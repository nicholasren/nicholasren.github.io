<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="/stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css" media="print" />

    <title>nicholasren.github.io by nicholasren</title>
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-26893631-1']);
      _gaq.push(['_trackPageview']);

      (function() {
       var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
       ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
       var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
       })();

     </script>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>nicholasren.github.io</h1>
        <h2>ruby, scala </h2>
      </div>
    </header>

    <div class="container">
    <div class="content">
  <div class="row">
    <div class="span16">
      <div class="page-header">
        <h1>Scala实现的各种排序算法</h1>
      </div>
      <p>收到TW的offer已经一周了，已经跟现在的公司提离职了，于是整个人都松弛下来了，闲来无事，把自己在学习scala期间写的几个排序的小例子拿出来分享一下：</p>

<h2>Insertion Sort:</h2>

<div class="highlight"><pre><code class="scala"><span class="k">def</span> <span class="n">isort</span><span class="o">(</span><span class="n">xs</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">Int</span><span class="o">])</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="o">{</span>
  <span class="n">xs</span> <span class="k">match</span> <span class="o">{</span>
    <span class="k">case</span> <span class="nc">List</span><span class="o">()</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="nc">List</span><span class="o">()</span>
    <span class="k">case</span> <span class="n">x</span> <span class="o">::</span> <span class="n">xs1</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">insert</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">isort</span><span class="o">(</span><span class="n">xs1</span><span class="o">))</span>
  <span class="o">}</span>
<span class="o">}</span>
<span class="k">def</span> <span class="n">insert</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">xs</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">Int</span><span class="o">])</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="o">{</span>
  <span class="n">xs</span> <span class="k">match</span> <span class="o">{</span>
    <span class="k">case</span> <span class="nc">List</span><span class="o">()</span> <span class="k">=&gt;</span> <span class="nc">List</span><span class="o">(</span><span class="n">x</span><span class="o">)</span>
    <span class="k">case</span> <span class="n">y</span> <span class="o">::</span> <span class="n">ys</span> <span class="k">=&gt;</span> <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">y</span><span class="o">)</span> <span class="n">x</span> <span class="o">::</span> <span class="n">xs</span> <span class="k">else</span> <span class="n">y</span> <span class="o">::</span> <span class="n">insert</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">ys</span><span class="o">)</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>


<h2>测试代码:</h2>

<div class="highlight"><pre><code class="scala"><span class="k">def</span> <span class="n">main</span><span class="o">(</span><span class="n">args</span><span class="k">:</span> <span class="kt">Array</span><span class="o">[</span><span class="kt">String</span><span class="o">])</span>
<span class="o">{</span>
  <span class="k">val</span> <span class="n">xs</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="mi">6</span><span class="o">,</span> <span class="mi">7</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">223</span><span class="o">,</span> <span class="mi">999999</span><span class="o">,</span> <span class="mi">6</span><span class="o">)</span>
  <span class="n">print</span><span class="o">(</span><span class="n">isort</span><span class="o">(</span><span class="n">xs</span><span class="o">))</span>
<span class="o">}</span>
</code></pre></div>


<h2>Quick sort：</h2>

<div class="highlight"><pre><code class="scala"><span class="k">def</span> <span class="n">quicksort</span><span class="o">[</span><span class="kt">T</span><span class="o">](</span><span class="n">less</span><span class="k">:</span> <span class="o">(</span><span class="kt">T</span><span class="o">,</span> <span class="kt">T</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nc">Boolean</span><span class="o">)(</span><span class="n">xs</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">T</span><span class="o">])</span><span class="k">:</span><span class="kt">List</span><span class="o">[</span><span class="kt">T</span><span class="o">]</span><span class="k">=</span> <span class="n">xs</span> <span class="k">match</span>
<span class="o">{</span>
  <span class="k">case</span> <span class="nc">List</span><span class="o">()</span> <span class="k">=&gt;</span> <span class="nc">List</span><span class="o">()</span>
  <span class="k">case</span> <span class="n">y</span><span class="o">::</span><span class="n">ys</span> <span class="k">=&gt;</span> 
    <span class="n">quicksort</span><span class="o">(</span><span class="n">less</span><span class="o">)(</span><span class="n">ys</span><span class="o">.</span><span class="n">filter</span><span class="o">(</span> <span class="n">a</span> <span class="k">=&gt;</span> <span class="n">less</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">y</span><span class="o">))):::</span> <span class="nc">List</span><span class="o">(</span><span class="n">y</span><span class="o">)</span> <span class="o">:::</span> <span class="n">quicksort</span><span class="o">(</span><span class="n">less</span><span class="o">)(</span><span class="n">ys</span><span class="o">.</span><span class="n">filter</span><span class="o">(</span> <span class="n">b</span> <span class="k">=&gt;</span> <span class="o">!</span><span class="n">less</span><span class="o">(</span><span class="n">b</span><span class="o">,</span> <span class="n">y</span><span class="o">)))</span>
<span class="o">}</span>
</code></pre></div>


<h2>测试代码:</h2>

<div class="highlight"><pre><code class="scala"><span class="k">def</span> <span class="n">main</span><span class="o">(</span><span class="n">args</span> <span class="k">:</span> <span class="kt">Array</span><span class="o">[</span><span class="kt">String</span><span class="o">])</span>
<span class="o">{</span>
  <span class="k">val</span> <span class="n">xs</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">8</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">10</span><span class="o">);</span>
  <span class="k">val</span> <span class="n">sorted</span> <span class="k">=</span> <span class="n">quicksort</span><span class="o">((</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="o">)(</span><span class="n">xs</span><span class="o">);</span>
  <span class="n">print</span> <span class="o">(</span><span class="n">sorted</span><span class="o">)</span>
<span class="o">}</span>
</code></pre></div>


<p>不知各位看完后是什么感觉？想想用C、Java语言实现一个insertion sort、 quick sort 的代码量吧，再看看这个scala实现，无需关注变量状态，只需要告诉编译器，先做什么，再做什么，其余的事情就由编译器自己实现了，
现在应该了解到函数式语言的威力了吧。个人感觉函数式语言更加接近人类的思维模式，想当年刚开始学习C++的时候，写个冒泡排序都把我憋出大红脸出来，后来接触到函数式语言才发现，原来编程是可以这么有趣，这么爽！
迷途的人们啊，赶快投入到函数式语言的怀抱中来吧 :)</p>

    </div>
  </div>
</div>

<div id="disqus_thread" style="width:100%">
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'nicholasrensblog'; 

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </div>

  </body>
</html>
